-- Invisible Hitbox Expander (Toggle with Button or T, size 5)
-- Shows green (ON) or red (OFF) circle at top-right corner
-- Made by Mchaezter for Lumi

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

_G.HeadSize = 5
_G.Disabled = false -- false = ON, true = OFF

-- Create GUI
local gui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
gui.ResetOnSpawn = false
gui.Name = "HitboxIndicator_MchaezterLumi"

-- Indicator (green/red light)
local indicator = Instance.new("Frame")
indicator.Size = UDim2.new(0, 25, 0, 25)
indicator.Position = UDim2.new(1, -35, 0, 10)
indicator.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
indicator.BorderSizePixel = 0
indicator.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(1, 0)
corner.Parent = indicator

-- "Made by" label
local label = Instance.new("TextLabel")
label.Size = UDim2.new(0, 180, 0, 20)
label.Position = UDim2.new(1, -190, 0, 40)
label.BackgroundTransparency = 1
label.Text = "Made by Mchaezter for Lumi"
label.TextColor3 = Color3.fromRGB(255, 255, 255)
label.TextStrokeTransparency = 0.7
label.TextScaled = true
label.Font = Enum.Font.SourceSansBold
label.TextXAlignment = Enum.TextXAlignment.Right
label.Parent = gui

-- Bigger Toggle Button (ON/OFF)
local toggleButton = Instance.new("TextButton")
toggleButton.Size = UDim2.new(0, 140, 0, 55)
toggleButton.Position = UDim2.new(1, -160, 0, 80)
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
toggleButton.Text = "ON"
toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.Font = Enum.Font.SourceSansBold
toggleButton.TextScaled = true
toggleButton.Parent = gui

local btnCorner = Instance.new("UICorner")
btnCorner.CornerRadius = UDim.new(0, 12)
btnCorner.Parent = toggleButton

-- Bigger Sit Button
local sitButton = Instance.new("TextButton")
sitButton.Size = UDim2.new(0, 140, 0, 55)
sitButton.Position = UDim2.new(1, -160, 0, 145)
sitButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
sitButton.Text = "Sit"
sitButton.TextColor3 = Color3.fromRGB(255, 255, 255)
sitButton.Font = Enum.Font.SourceSansBold
sitButton.TextScaled = true
sitButton.Parent = gui

local sitCorner = Instance.new("UICorner")
sitCorner.CornerRadius = UDim.new(0, 12)
sitCorner.Parent = sitButton

-- Function to set hitbox size
local function setHitbox(player)
	if player == LocalPlayer then return end
	local char = player.Character
	if char and char:FindFirstChild("HumanoidRootPart") then
		local part = char.HumanoidRootPart
		if not _G.Disabled then
			part.Size = Vector3.new(_G.HeadSize, _G.HeadSize, _G.HeadSize)
			part.Transparency = 1
			part.CanCollide = false
			part.Material = Enum.Material.Plastic
		else
			part.Size = Vector3.new(2, 2, 1)
			part.Transparency = 1
		end
	end
end

-- Update all playersâ€™ hitboxes
local function updateAll()
	for _, plr in ipairs(Players:GetPlayers()) do
		setHitbox(plr)
	end
end

-- Detect new players or respawns
Players.PlayerAdded:Connect(function(plr)
	plr.CharacterAdded:Connect(function()
		task.wait(1)
		setHitbox(plr)
	end)
end)

for _, plr in ipairs(Players:GetPlayers()) do
	plr.CharacterAdded:Connect(function()
		task.wait(1)
		setHitbox(plr)
	end)
end

-- Toggle function
local function toggleHitbox()
	_G.Disabled = not _G.Disabled

	if _G.Disabled then
		indicator.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
		toggleButton.BackgroundColor3 = Color3.fromRGB(170, 0, 0)
		toggleButton.Text = "OFF"
	else
		indicator.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
		toggleButton.BackgroundColor3 = Color3.fromRGB(0, 170, 0)
		toggleButton.Text = "ON"
	end

	updateAll()
end

-- Sit function
local function toggleSit()
	local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	if humanoid then
		humanoid.Sit = not humanoid.Sit
	end
end

-- Button click connections
toggleButton.MouseButton1Click:Connect(toggleHitbox)
sitButton.MouseButton1Click:Connect(toggleSit)

-- Keyboard toggle (PC)
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.T then
		toggleHitbox()
	end
end)

-- Initial setup
updateAll()
